<div class="grid-container">
    <h1 class="mat-h1">Appel d'offres</h1>
    <mat-card class="dashboard-card">
        <mat-card-header>
          <mat-card-title>
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <p-table [columns]="cols" [value]="appelOffres" selectionMode="single" [(selection)]="appelOffre" (onRowSelect)="onRowSelect($event)" [paginator]="true" [rows]="10">
                <ng-template pTemplate="caption">
                    Listes des appels d'offres
                </ng-template>
                <ng-template pTemplate="header" let-columns>
                    <tr>
                        <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                            {{col.header}}
                            <p-sortIcon [field]="col.field"></p-sortIcon>
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowData let-columns="columns">
                    <tr [pSelectableRow]="rowData">
                        <td *ngFor="let col of columns">
                            {{rowData[col.field]}}
                        </td>
                </ng-template>
                <ng-template pTemplate="summary" let-rowData>
                    <div style="text-align:left">
                        <button type="button" pButton icon="pi pi-plus" (click)="display=true" label="Add"></button>
                    </div>
                </ng-template>    
            </p-table>
        </mat-card-content>
        <mat-card-footer>
        </mat-card-footer>
      </mat-card>
</div>
<p-dialog header="Ajouter un Appel d\'offre'" [(visible)]="display" [modal]="true" [responsive]="true" [minY]="70" 
        [maximizable]="true" appendTo="body">
        <form (ngSubmit)="addAo(formAO)" #formAO="ngForm">
        <div class="dial">
            <div>
                <label for="num">numero</label>
                <input  id="num" [(ngModel)]="appelOffre.numAO" name="numAO" type="text" pInputText>
            </div>
            <div>
                <label for="date">date</label><br>
                <p-calendar id="date" appendTo="body" [(ngModel)]="appelOffre.dateAO" name="dateAO" dateFormat="dd-mm-yy"></p-calendar>
            </div>
            <div>
                <label for="objet">objet</label>
                <input  id="objet" [(ngModel)]="appelOffre.objet" name="objet" type="text" pInputText>
            </div>
            <div>
                <label for="localisation">localisation</label>
                <input  id="localisation" [(ngModel)]="appelOffre.localisation" name="localisation" type="text" pInputText>
            </div>
            <div>
                <label for="estimation">estimation</label>
                <input  id="estimation" [(ngModel)]="appelOffre.estimation" name="estimation" type="text" pInputText>
            </div>
        </div>
        <p-footer>
            <button type="submit" pButton icon="pi pi-plus" label="Ajouter"></button>
            <button type="button" pButton icon="pi pi-close" (click)="display=false" label="Annuler" class="ui-button-secondary"></button>
        </p-footer>
    </form>
</p-dialog>